(this.webpackJsonppanda_store=this.webpackJsonppanda_store||[]).push([[0],{28:function(t,e,a){},29:function(t,e,a){},37:function(t,e,a){"use strict";a.r(e);var c=a(1),n=a.n(c),r=a(22),s=a.n(r),i=(a(28),a(4)),o=a(2),l=(a(29),a(9)),u=a.n(l),d=a(13),h=a(5),j=a(6),b=a(8),p=a(7),m=a.p+"static/media/lupa.d7a62503.png",O=a.p+"static/media/cart.80f1b71e.png",x=a(0),v=function(t){Object(b.a)(a,t);var e=Object(p.a)(a);function a(){var t;return Object(h.a)(this,a),(t=e.call(this)).state={},t}return Object(j.a)(a,[{key:"render",value:function(){var t=this.props,e=t.handleChange,a=t.handleClickInput,c=t.cart;return Object(x.jsxs)("div",{className:"elementsHome",children:[Object(x.jsxs)("div",{className:"inputButtons",children:[Object(x.jsx)("input",{className:"inputSearch",placeholder:"Insira um produto",type:"text",onChange:e}),Object(x.jsx)("button",{className:"buttonSearch",type:"button",onClick:a,children:Object(x.jsx)("img",{src:m,alt:"pesquisar",className:"imgSearch"})}),Object(x.jsxs)("div",{className:"qtdAndCart",children:[Object(x.jsx)("button",{className:"cartSearch",type:"button",children:Object(x.jsx)(i.b,{to:{pathname:"/cart",state:{cart:c}},children:Object(x.jsx)("img",{src:O,alt:"carrinho de compras",className:"imgCart"})})}),Object(x.jsx)("p",{className:0===c.length?"qtdCart":"",children:c.length})]})]}),Object(x.jsx)("h4",{children:"Digite algum termo de pesquisa ou escolha uma categoria."})]})}}]),a}(c.Component),g=function(t){Object(b.a)(a,t);var e=Object(p.a)(a);function a(){var t;return Object(h.a)(this,a),(t=e.call(this)).oneWordCategories=function(t){return t.split(" ")[0].split(",")[0]},t.state={},t}return Object(j.a)(a,[{key:"render",value:function(){var t=this,e=this.props,a=e.categories,c=e.handleClickCategory;return Object(x.jsx)("div",{className:"categoriesBar",children:Object(x.jsx)("div",{className:"categories",children:a.map((function(e){var a=e.name,n=e.id;return Object(x.jsx)("button",{type:"button",value:n,onClick:c,children:t.oneWordCategories(a)},n)}))})})}}]),a}(c.Component),f=function(t){Object(b.a)(a,t);var e=Object(p.a)(a);function a(){var t;return Object(h.a)(this,a),(t=e.call(this)).state={},t}return Object(j.a)(a,[{key:"render",value:function(){var t=this.props.product,e=t.title,a=t.thumbnail,c=t.price;return Object(x.jsxs)("div",{className:"item",children:[Object(x.jsx)("h4",{className:"title",children:e}),Object(x.jsx)("img",{src:a,alt:e}),Object(x.jsx)("h4",{className:"price",children:"R$ ".concat(c.toLocaleString("pt-br",{minimumFractionDigits:2}))})]})}}]),a}(c.Component),C=function(t){Object(b.a)(a,t);var e=Object(p.a)(a);function a(){var t;return Object(h.a)(this,a),(t=e.call(this)).state={},t}return Object(j.a)(a,[{key:"render",value:function(){var t=this.props,e=t.products,a=t.handleAddCart;return Object(x.jsx)("div",{className:"items",children:e.map((function(t){return Object(x.jsxs)("div",{children:[Object(x.jsx)(f,{product:t}),Object(x.jsx)("button",{type:"button",className:"buttonDetails",children:Object(x.jsx)(i.b,{to:{pathname:"/details/".concat(t.id),state:{product:t}},children:"Mais Detalhes"})}),Object(x.jsx)("button",{type:"button",className:"buttonCart",onClick:function(){return a(t)},children:"Adicionar"})]},t.id)}))})}}]),a}(c.Component);function S(){return y.apply(this,arguments)}function y(){return(y=Object(d.a)(u.a.mark((function t(){var e,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.mercadolibre.com/sites/MLB/categories");case 2:return e=t.sent,t.next=5,e.json();case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(t,e){return k.apply(this,arguments)}function k(){return(k=Object(d.a)(u.a.mark((function t(e,a){var c,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.mercadolibre.com/sites/MLB/search?category=".concat(e,"&q=").concat(a));case 2:return c=t.sent,t.next=5,c.json();case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var I=a(20);function L(t,e){var a=t.id,c=t.title,n=t.thumbnail,r=t.price,s=e.find((function(e){return e.id===t.id}));if(!e.length||!s){var i=t.available_quantity;return[].concat(Object(I.a)(e),[{id:a,title:c,thumbnail:n,price:r,availableQuantity:i,count:1,totalValue:r}])}var o=e,l=o.indexOf(s);return o[l].count+=1,o[l].totalValue=Math.round(o[l].count*o[l].price*100)/100,o}var D=function(t){Object(b.a)(a,t);var e=Object(p.a)(a);function a(){var t;return Object(h.a)(this,a),(t=e.call(this)).restoreFromLocalStorage=function(){var e=localStorage.getItem("LScart");e&&(e=JSON.parse(e),t.setState({cart:e}))},t.categories=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:a=e.sent,t.setState({listCategories:a});case 4:case"end":return e.stop()}}),e)}))),t.getProducts=function(){var t=Object(d.a)(u.a.mark((function t(e){var a,c,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.categoryId,c=e.query,t.next=3,N(a,c);case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.handleClickCategory=function(){var e=Object(d.a)(u.a.mark((function e(a){var c,n,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.target.value,n=t.state.query,r=c,e.next=5,t.getProducts({categoryId:r,query:n});case 5:s=e.sent,t.setState({products:s.results,fetchOn:!0});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.handleChangeInput=function(e){var a=e.target.value;t.setState({query:a})},t.handleClickInput=Object(d.a)(u.a.mark((function e(){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.state.query,"",e.next=4,t.getProducts({categoryId:"",query:a});case 4:c=e.sent,t.setState({products:c.results,fetchOn:!0});case 6:case"end":return e.stop()}}),e)}))),t.addCart=function(e){var a=L(e,t.state.cart);t.setState({cart:a}),localStorage.setItem("LScart",JSON.stringify(a))},t.state={cart:[],listCategories:[],products:[],query:"",fetchOn:!1},t}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.categories(),this.restoreFromLocalStorage()}},{key:"render",value:function(){var t=this.state,e=t.listCategories,a=t.products,c=t.cart;return t.fetchOn?Object(x.jsxs)("div",{children:[Object(x.jsx)(v,{products:a,categories:e,cart:c,handleChange:this.handleChangeInput,handleClickInput:this.handleClickInput,handleClickCategory:this.handleClickCategory,handleAddCart:this.addCart}),Object(x.jsxs)("div",{className:"Cards",children:[Object(x.jsx)(g,{categories:e,handleClickCategory:this.handleClickCategory}),Object(x.jsx)(C,{products:a,handleAddCart:this.addCart})]})]}):Object(x.jsxs)("div",{className:"pandaBG",children:[Object(x.jsx)(v,{products:a,categories:e,cart:c,handleChange:this.handleChangeInput,handleClickInput:this.handleClickInput,handleClickCategory:this.handleClickCategory,handleAddCart:this.addCart}),Object(x.jsx)(g,{categories:e,handleClickCategory:this.handleClickCategory})]})}}]),a}(c.Component),q=function(t){Object(b.a)(a,t);var e=Object(p.a)(a);function a(){var t;return Object(h.a)(this,a),(t=e.call(this)).addCart=function(e){var a=L(e,t.state.cart);t.setState({cart:a}),localStorage.setItem("LScart",JSON.stringify(a))},t.state={cart:[]},t}return Object(j.a)(a,[{key:"render",value:function(){var t=this,e=this.props.location.state.product,a=e.title,c=e.thumbnail,n=e.price,r=e.attributes,s=this.state.cart;return Object(x.jsxs)("div",{className:"ProductDetails",children:[Object(x.jsxs)("div",{className:"details",children:[Object(x.jsx)("h4",{children:"DETALHES DO PRODUTO"}),Object(x.jsx)("br",{}),Object(x.jsx)("p",{className:"title",children:a}),Object(x.jsx)("img",{src:c,alt:a}),Object(x.jsx)("p",{className:"price",children:"R$ ".concat(n.toLocaleString("pt-br",{minimumFractionDigits:2}))}),Object(x.jsx)("br",{})]}),Object(x.jsxs)("div",{className:"moreInformations",children:[Object(x.jsx)("h4",{children:"MAIS INFORMA\xc7\xd5ES:"}),Object(x.jsx)("br",{}),r.map((function(t){return Object(x.jsx)("div",{children:Object(x.jsx)("p",{className:"uppercase",children:"".concat(t.name,": ").concat(t.value_name)})},t.name)}))]}),Object(x.jsxs)("div",{className:"areaButtonsDetails",children:[Object(x.jsx)("button",{type:"button",className:"buttonCart",onClick:function(){return t.addCart(e)},children:"Adicionar"}),Object(x.jsx)("button",{type:"button",className:"buttonHome",children:Object(x.jsx)(i.b,{to:"/",children:"Home"})}),Object(x.jsxs)("div",{className:"qtdAndCart",children:[Object(x.jsx)("button",{className:"cartSearch",type:"button",children:Object(x.jsx)(i.b,{to:{pathname:"/cart",state:{cart:s}},children:Object(x.jsx)("img",{src:O,alt:"carrinho de compras",className:"imgCart"})})}),Object(x.jsx)("p",{className:0===s.length?"qtdCart":"",children:s.length})]})]})]})}}]),a}(c.Component),w=function(t){Object(b.a)(a,t);var e=Object(p.a)(a);function a(t){var c;Object(h.a)(this,a),(c=e.call(this,t)).restoreFromLocalStorage=function(){var t=localStorage.getItem("LScart");t&&(t=JSON.parse(t),c.setState({shoppingCart:t}))},c.totalSumProducts=function(){var t=c.state,e=t.shoppingCart;if(t.updateSum){var a=e.reduce((function(t,e){return t+e.totalValue}),0);c.setState({totalSum:a,updateSum:!1})}},c.increaseQuantity=function(t){var e=c.state.shoppingCart,a=e.find((function(e){return e.id===t})),n=e.indexOf(a);e[n].count+=1,e[n].totalValue=Math.round(e[n].count*e[n].price*100)/100,c.setState({shoppingCart:e,updateSum:!0}),localStorage.setItem("LScart",JSON.stringify(e))},c.decreaseQuantity=function(t){var e=c.state.shoppingCart,a=e.find((function(e){return e.id===t})),n=e.indexOf(a);e[n].count>1&&(e[n].count-=1,e[n].totalValue=Math.round(e[n].count*e[n].price*100)/100,c.setState({shoppingCart:e,updateSum:!0}),localStorage.setItem("LScart",JSON.stringify(e)))},c.removeItem=function(t){var e=c.state.shoppingCart.filter((function(e){return e.id!==t}));c.setState({shoppingCart:e,updateSum:!0}),localStorage.setItem("LScart",JSON.stringify(e))},c.clearProducts=function(){var t=[];c.setState({shoppingCart:t,updateSum:!0}),localStorage.setItem("LScart",JSON.stringify(t))};var n=c.props.location.state.cart;return c.state={shoppingCart:n,updateSum:!0,totalSum:0},c}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.totalSumProducts(),this.restoreFromLocalStorage()}},{key:"componentDidUpdate",value:function(){this.totalSumProducts()}},{key:"render",value:function(){var t=this,e=this.state,a=e.shoppingCart,c=e.totalSum;return a.length?Object(x.jsxs)("div",{className:"cartFull",children:[Object(x.jsx)("div",{className:"itemsCart",children:a.map((function(e){var a=e.id,c=e.title,n=e.price,r=e.thumbnail,s=e.availableQuantity,i=e.count,o=e.totalValue;return Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"itemCart",children:[Object(x.jsx)("h4",{className:"title",children:c}),Object(x.jsx)("img",{src:r,alt:c}),Object(x.jsx)("h4",{children:"Qtide: ".concat(i.toLocaleString("pt-br",{minimumFractionDigits:1}))}),Object(x.jsx)("h4",{className:"price",children:"Pre\xe7o: R$ ".concat(n.toLocaleString("pt-br",{minimumFractionDigits:2}))}),Object(x.jsxs)("h3",{className:"totalValue",children:["Total R$:",o.toLocaleString("pt-br",{minimumFractionDigits:2})]}),Object(x.jsxs)("div",{className:"itemButtons",children:[Object(x.jsx)("button",{className:"increase",type:"button",disabled:i>=s,onClick:function(){return t.increaseQuantity(a)},children:"+"}),Object(x.jsx)("button",{className:"decrease",type:"button",onClick:function(){return t.decreaseQuantity(a)},children:"-"}),Object(x.jsx)("button",{className:"remove",type:"button",onClick:function(){return t.removeItem(a)},children:"X"})]})]})},a)}))}),Object(x.jsxs)("div",{className:"areaButtons",children:[Object(x.jsx)("button",{type:"button",className:"buttonCheckout",children:Object(x.jsx)(i.b,{to:{pathname:"/checkout",state:{shoppingCart:a,totalSum:c}},children:"Finalizar Compra"})}),Object(x.jsx)("button",{type:"button",className:"buttonClear",onClick:this.clearProducts,children:"Limpar Produtos"}),Object(x.jsx)("button",{type:"button",className:"buttonHome",children:Object(x.jsx)(i.b,{to:"/",children:"Home"})})]})]}):Object(x.jsxs)("div",{className:"cartEmpty",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{children:"Carrinho de Compras"}),Object(x.jsx)("h5",{children:"Seu carrinho est\xe1 vazio."})]}),Object(x.jsx)("div",{className:"areaButtons",children:Object(x.jsx)("button",{type:"button",className:"buttonHome",children:Object(x.jsx)(i.b,{to:"/",children:"Home"})})})]})}}]),a}(c.Component),A=function(t){Object(b.a)(a,t);var e=Object(p.a)(a);function a(t){var c;return Object(h.a)(this,a),(c=e.call(this,t)).buyCompleted=function(){localStorage.setItem("LScart",JSON.stringify([]))},c.state={},c}return Object(j.a)(a,[{key:"render",value:function(){var t=this.props.location.state,e=t.shoppingCart,a=t.totalSum;return e.length?Object(x.jsxs)("div",{className:"checkoutFull",children:[Object(x.jsx)("div",{className:"itemsCart",children:e.map((function(t){var e=t.id,a=t.thumbnail,c=t.title,n=t.totalValue,r=t.count;return Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"itemCheckout",children:[Object(x.jsx)("img",{src:a,alt:c}),Object(x.jsx)("h4",{className:"title",children:c}),Object(x.jsx)("h4",{children:"Qtide: ".concat(r)}),Object(x.jsx)("h3",{className:"price",children:"Valor R$:\n                    ".concat(n.toLocaleString("pt-br",{minimumFractionDigits:2}))})]})},e)}))}),Object(x.jsx)("h4",{className:"totalValue",children:"VALOR TOTAL DO PRODUTOS:\n            R$ ".concat(a.toLocaleString("pt-br",{minimumFractionDigits:2}))}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"areaButtons",children:[Object(x.jsx)("button",{type:"button",className:"buttonCheckout",children:Object(x.jsx)(i.b,{to:"/",onClick:this.buyCompleted,children:"Comprar"})}),Object(x.jsx)("button",{type:"button",className:"buttonCancel",children:Object(x.jsx)(i.b,{to:"/",onClick:this.buyCompleted,children:"Cancelar Compra"})}),Object(x.jsx)("button",{type:"button",className:"buttonHome",children:Object(x.jsx)(i.b,{to:"/",children:"Home"})})]})]}):Object(x.jsxs)("div",{className:"cartEmpty",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{children:"Resumo da Compra"}),Object(x.jsx)("h5",{children:"Seu carrinho est\xe1 vazio."})]}),Object(x.jsx)("div",{className:"areaButtons",children:Object(x.jsx)("button",{type:"button",className:"buttonHome",children:Object(x.jsx)(i.b,{to:"/",children:"Home"})})})]})}}]),a}(c.Component),F=a.p+"static/media/pandaHeader.0d3a3eaf.png";var P=function(){return Object(x.jsxs)("div",{children:[Object(x.jsxs)("header",{className:"header",children:[Object(x.jsx)("img",{src:F,alt:"urso panda",width:"65px"}),Object(x.jsx)("h1",{children:"PANDA STORE"})]}),Object(x.jsx)(i.a,{children:Object(x.jsxs)(o.c,{children:[Object(x.jsx)(o.a,{exact:!0,path:"/",component:D}),Object(x.jsx)(o.a,{path:"/details/:id",component:q}),Object(x.jsx)(o.a,{path:"/cart",component:w}),Object(x.jsx)(o.a,{path:"/checkout",component:A})]})})]})};s.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(P,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.cab8c475.chunk.js.map